<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Loading...</title>
        <link
            href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css"
            rel="stylesheet"
            type="text/css"
        />
        <script src="https://cdn.tailwindcss.com"></script>
        <style>
            .prose {
                max-width: none !important;
            }
            body {
                background: #000;
                color: #e0e0e0;
            }
            .btn-ghost {
                border-color: rgba(255, 255, 255, 0.3);
            }
        </style>
    </head>
    <body class="min-h-screen flex flex-col">
        <!-- Header with dynamic breadcrumb -->
        <header class="p-3 border-b border-gray-800 flex items-center gap-2">
            <button id="menu-toggle" class="btn btn-ghost btn-sm md:hidden">
                ☰
            </button>
            <div
                id="url-bar"
                class="flex items-center gap-1 text-sm font-mono overflow-x-auto whitespace-nowrap"
            >
                <!-- Filled by JS: error.doc / docs / 001 -->
            </div>
        </header>

        <div class="flex flex-1 overflow-hidden">
            <!-- Sidebar (collapsible on mobile) -->
            <aside
                id="sidebar"
                class="w-64 border-r border-gray-800 p-4 bg-gray-900 hidden md:block"
            >
                <div class="flex justify-between items-center mb-3">
                    <h2 class="text-lg">Topics</h2>
                    <button
                        id="menu-close"
                        class="btn btn-ghost btn-xs md:hidden"
                    >
                        ×
                    </button>
                </div>
                <ul
                    id="topic-list"
                    class="space-y-1 max-h-[70vh] overflow-y-auto"
                ></ul>
            </aside>

            <!-- Overlay for mobile -->
            <div
                id="overlay"
                class="hidden fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden"
            ></div>

            <!-- Main content -->
            <main id="main-content" class="flex-1 p-4 md:p-6 bg-gray-950">
                <div
                    id="preview"
                    class="aspect-video bg-gray-800 rounded mb-4 hidden"
                ></div>
                <div id="meta" class="mb-6 hidden">
                    <h1 id="doc-title" class="text-2xl font-bold mb-2"></h1>
                    <div class="text-sm opacity-75">
                        <span id="doc-id"></span> •
                        <span id="doc-date"></span> by
                        <span id="doc-author"></span>
                    </div>
                </div>
                <div id="content" class="prose prose-invert max-w-none"></div>
            </main>
        </div>

        <!-- Footer -->
        <footer
            class="p-3 text-center text-sm border-t border-gray-800 bg-gray-900"
        >
            <a
                href="https://github.com/zynomon/error.doc"
                target="_blank"
                class="link link-hover"
                >GitHub</a
            >
            •
            <a
                href="https://discord.gg/qt"
                target="_blank"
                class="link link-hover"
                >Discord</a
            >
        </footer>

        <script src="../../script.js"></script>
    </body>
</html>
